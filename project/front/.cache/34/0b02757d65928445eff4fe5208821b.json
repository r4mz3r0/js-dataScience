{"id":"node_modules/vega-lite/build/src/compile/data/source.js","dependencies":[{"name":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/data/source.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/package.json","includedInParent":true,"mtime":1593715260815},{"name":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"tslib","loc":{"line":3,"column":22},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/data/source.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/tslib/tslib.es6.js"},{"name":"../../data","loc":{"line":4,"column":21},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/data/source.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/data.js"},{"name":"../../util","loc":{"line":5,"column":21},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/data/source.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/util.js"},{"name":"./dataflow","loc":{"line":6,"column":25},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/data/source.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/data/dataflow.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar data_1 = require(\"../../data\");\nvar util_1 = require(\"../../util\");\nvar dataflow_1 = require(\"./dataflow\");\nvar SourceNode = /** @class */ (function (_super) {\n    tslib_1.__extends(SourceNode, _super);\n    function SourceNode(data) {\n        var _this = _super.call(this, null) || this;\n        data = data || { name: 'source' };\n        if (data_1.isInlineData(data)) {\n            _this._data = { values: data.values };\n        }\n        else if (data_1.isUrlData(data)) {\n            _this._data = { url: data.url };\n            if (!data.format) {\n                data.format = {};\n            }\n            if (!data.format || !data.format.type) {\n                // Extract extension from URL using snippet from\n                // http://stackoverflow.com/questions/680929/how-to-extract-extension-from-filename-string-in-javascript\n                var defaultExtension = /(?:\\.([^.]+))?$/.exec(data.url)[1];\n                if (!util_1.contains(['json', 'csv', 'tsv', 'dsv', 'topojson'], defaultExtension)) {\n                    defaultExtension = 'json';\n                }\n                // defaultExtension has type string but we ensure that it is DataFormatType above\n                data.format.type = defaultExtension;\n            }\n        }\n        else if (data_1.isNamedData(data)) {\n            _this._data = {};\n        }\n        // any dataset can be named\n        if (data.name) {\n            _this._name = data.name;\n        }\n        if (data.format) {\n            var _a = data.format, _b = _a.parse, parse = _b === void 0 ? null : _b, format = tslib_1.__rest(_a, [\"parse\"]);\n            _this._data.format = format;\n        }\n        return _this;\n    }\n    Object.defineProperty(SourceNode.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SourceNode.prototype.hasName = function () {\n        return !!this._name;\n    };\n    Object.defineProperty(SourceNode.prototype, \"dataName\", {\n        get: function () {\n            return this._name;\n        },\n        set: function (name) {\n            this._name = name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SourceNode.prototype, \"parent\", {\n        set: function (parent) {\n            throw new Error('Source nodes have to be roots.');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SourceNode.prototype.remove = function () {\n        throw new Error('Source nodes are roots and cannot be removed.');\n    };\n    /**\n     * Return a unique identifier for this data source.\n     */\n    SourceNode.prototype.hash = function () {\n        if (data_1.isInlineData(this._data)) {\n            if (!this._hash) {\n                // Hashing can be expensive for large inline datasets.\n                this._hash = util_1.hash(this._data);\n            }\n            return this._hash;\n        }\n        else if (data_1.isUrlData(this._data)) {\n            return util_1.hash([this._data.url, this._data.format]);\n        }\n        else {\n            return this._name;\n        }\n    };\n    SourceNode.prototype.assemble = function () {\n        return tslib_1.__assign({ name: this._name }, this._data, { transform: [] });\n    };\n    return SourceNode;\n}(dataflow_1.DataFlowNode));\nexports.SourceNode = SourceNode;\n"},"sourceMaps":{"js":{"version":3,"file":"source.js","sourceRoot":"","sources":["../../../../src/compile/data/source.ts"],"names":[],"mappings":"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","sourcesContent":["import {Data, DataFormatType, isInlineData, isNamedData, isUrlData} from '../../data';\nimport {contains, hash} from '../../util';\nimport {VgData} from '../../vega.schema';\nimport {DataFlowNode} from './dataflow';\n\nexport class SourceNode extends DataFlowNode {\n  private _data: Partial<VgData>;\n\n  private _name: string;\n\n  private _hash: string | number;\n\n  constructor(data: Data) {\n    super(null);  // source cannot have parent\n\n    data = data || {name: 'source'};\n\n    if (isInlineData(data)) {\n      this._data = {values: data.values};\n    } else if (isUrlData(data)) {\n      this._data = {url: data.url};\n\n      if (!data.format) {\n        data.format = {};\n      }\n\n      if (!data.format || !data.format.type) {\n        // Extract extension from URL using snippet from\n        // http://stackoverflow.com/questions/680929/how-to-extract-extension-from-filename-string-in-javascript\n        let defaultExtension = /(?:\\.([^.]+))?$/.exec(data.url)[1];\n        if (!contains(['json', 'csv', 'tsv', 'dsv', 'topojson'], defaultExtension)) {\n          defaultExtension = 'json';\n        }\n\n        // defaultExtension has type string but we ensure that it is DataFormatType above\n        data.format.type = defaultExtension as DataFormatType;\n      }\n    } else if (isNamedData(data)) {\n      this._data = {};\n    }\n\n    // any dataset can be named\n    if (data.name) {\n      this._name = data.name;\n    }\n\n    if (data.format) {\n      const {parse = null, ...format} = data.format;\n      this._data.format = format;\n    }\n  }\n\n  get data() {\n    return this._data;\n  }\n\n  public hasName(): boolean {\n    return !!this._name;\n  }\n\n  get dataName() {\n    return this._name;\n  }\n\n  set dataName(name: string) {\n    this._name = name;\n  }\n\n  set parent(parent: DataFlowNode) {\n    throw new Error('Source nodes have to be roots.');\n  }\n\n  public remove() {\n    throw new Error('Source nodes are roots and cannot be removed.');\n  }\n\n  /**\n   * Return a unique identifier for this data source.\n   */\n  public hash() {\n    if (isInlineData(this._data)) {\n      if (!this._hash) {\n        // Hashing can be expensive for large inline datasets.\n        this._hash = hash(this._data);\n      }\n      return this._hash;\n    } else if (isUrlData(this._data)) {\n      return hash([this._data.url, this._data.format]);\n    } else {\n      return this._name;\n    }\n  }\n\n  public assemble(): VgData {\n    return {\n      name: this._name,\n      ...this._data,\n      transform: []\n    };\n  }\n}\n"]}},"error":null,"hash":"579fe4e4d97f895e804cee458699e3b9","cacheData":{"env":{}}}