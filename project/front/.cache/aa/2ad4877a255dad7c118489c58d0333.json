{"id":"node_modules/vega-lite/build/src/compile/repeat.js","dependencies":[{"name":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/repeat.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/package.json","includedInParent":true,"mtime":1593715260815},{"name":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"tslib","loc":{"line":3,"column":22},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/repeat.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/tslib/tslib.es6.js"},{"name":"../log","loc":{"line":4,"column":39},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/repeat.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/log.js"},{"name":"./baseconcat","loc":{"line":5,"column":27},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/repeat.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/baseconcat.js"},{"name":"./buildmodel","loc":{"line":6,"column":27},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/repeat.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/buildmodel.js"},{"name":"./layoutsize/parse","loc":{"line":7,"column":22},"parent":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/repeat.js","resolved":"/home/ramsiro/Desktop/JavaScriptDataScience/js-dataScience/project/front/node_modules/vega-lite/build/src/compile/layoutsize/parse.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar log = tslib_1.__importStar(require(\"../log\"));\nvar baseconcat_1 = require(\"./baseconcat\");\nvar buildmodel_1 = require(\"./buildmodel\");\nvar parse_1 = require(\"./layoutsize/parse\");\nvar RepeatModel = /** @class */ (function (_super) {\n    tslib_1.__extends(RepeatModel, _super);\n    function RepeatModel(spec, parent, parentGivenName, repeatValues, config) {\n        var _this = _super.call(this, spec, parent, parentGivenName, config, repeatValues, spec.resolve) || this;\n        _this.type = 'repeat';\n        if (spec.resolve && spec.resolve.axis && (spec.resolve.axis.x === 'shared' || spec.resolve.axis.y === 'shared')) {\n            log.warn(log.message.REPEAT_CANNOT_SHARE_AXIS);\n        }\n        _this.repeat = spec.repeat;\n        _this.children = _this._initChildren(spec, _this.repeat, repeatValues, config);\n        return _this;\n    }\n    RepeatModel.prototype._initChildren = function (spec, repeat, repeater, config) {\n        var children = [];\n        var row = repeat.row || [repeater ? repeater.row : null];\n        var column = repeat.column || [repeater ? repeater.column : null];\n        // cross product\n        for (var _i = 0, row_1 = row; _i < row_1.length; _i++) {\n            var rowField = row_1[_i];\n            for (var _a = 0, column_1 = column; _a < column_1.length; _a++) {\n                var columnField = column_1[_a];\n                var name_1 = (rowField ? '_' + rowField : '') + (columnField ? '_' + columnField : '');\n                var childRepeat = {\n                    row: rowField,\n                    column: columnField\n                };\n                children.push(buildmodel_1.buildModel(spec.spec, this, this.getName('child' + name_1), undefined, childRepeat, config, false));\n            }\n        }\n        return children;\n    };\n    RepeatModel.prototype.parseLayoutSize = function () {\n        parse_1.parseRepeatLayoutSize(this);\n    };\n    RepeatModel.prototype.assembleDefaultLayout = function () {\n        return {\n            columns: this.repeat && this.repeat.column ? this.repeat.column.length : 1,\n            bounds: 'full',\n            align: 'all'\n        };\n    };\n    return RepeatModel;\n}(baseconcat_1.BaseConcatModel));\nexports.RepeatModel = RepeatModel;\n"},"sourceMaps":{"js":{"version":3,"file":"repeat.js","sourceRoot":"","sources":["../../../src/compile/repeat.ts"],"names":[],"mappings":";;;AAEA,kDAA8B;AAI9B,2CAA6C;AAC7C,2CAAwC;AACxC,4CAAyD;AAIzD;IAAiC,uCAAe;IAM9C,qBAAY,IAA0B,EAAE,MAAa,EAAE,eAAuB,EAAE,YAA2B,EAAE,MAAc;QAA3H,YACE,kBAAM,IAAI,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,SAQzE;QAde,UAAI,GAAa,QAAQ,CAAC;QAQxC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,QAAQ,CAAC,EAAE;YAC/G,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;SAChD;QAED,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,EAAE,KAAI,CAAC,MAAM,EAAE,YAAY,EAAE,MAAM,CAAC,CAAC;;IAC9E,CAAC;IAEO,mCAAa,GAArB,UAAsB,IAA0B,EAAE,MAAc,EAAE,QAAuB,EAAE,MAAc;QACvG,IAAM,QAAQ,GAAY,EAAE,CAAC;QAC7B,IAAM,GAAG,GAAG,MAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAC3D,IAAM,MAAM,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAEpE,gBAAgB;QAChB,KAAuB,UAAG,EAAH,WAAG,EAAH,iBAAG,EAAH,IAAG,EAAE;YAAvB,IAAM,QAAQ,YAAA;YACjB,KAA0B,UAAM,EAAN,iBAAM,EAAN,oBAAM,EAAN,IAAM,EAAE;gBAA7B,IAAM,WAAW,eAAA;gBACpB,IAAM,MAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBAEvF,IAAM,WAAW,GAAG;oBAClB,GAAG,EAAE,QAAQ;oBACb,MAAM,EAAE,WAAW;iBACpB,CAAC;gBAEF,QAAQ,CAAC,IAAI,CAAC,uBAAU,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,MAAI,CAAC,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;aACjH;SACF;QAED,OAAO,QAAQ,CAAC;IAClB,CAAC;IAEM,qCAAe,GAAtB;QACE,6BAAqB,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAES,2CAAqB,GAA/B;QACE,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC1E,MAAM,EAAE,MAAM;YACd,KAAK,EAAE,KAAK;SACb,CAAC;IACJ,CAAC;IACH,kBAAC;AAAD,CAAC,AAlDD,CAAiC,4BAAe,GAkD/C;AAlDY,kCAAW","sourcesContent":["\nimport {Config} from '../config';\nimport * as log from '../log';\nimport {Repeat} from '../repeat';\nimport {NormalizedRepeatSpec} from '../spec';\nimport {VgLayout} from '../vega.schema';\nimport {BaseConcatModel} from './baseconcat';\nimport {buildModel} from './buildmodel';\nimport {parseRepeatLayoutSize} from './layoutsize/parse';\nimport {Model} from './model';\nimport {RepeaterValue} from './repeater';\n\nexport class RepeatModel extends BaseConcatModel {\n  public readonly type: 'repeat' = 'repeat';\n  public readonly repeat: Repeat;\n\n  public readonly children: Model[];\n\n  constructor(spec: NormalizedRepeatSpec, parent: Model, parentGivenName: string, repeatValues: RepeaterValue, config: Config) {\n    super(spec, parent, parentGivenName, config, repeatValues, spec.resolve);\n\n    if (spec.resolve && spec.resolve.axis && (spec.resolve.axis.x === 'shared' || spec.resolve.axis.y === 'shared')) {\n      log.warn(log.message.REPEAT_CANNOT_SHARE_AXIS);\n    }\n\n    this.repeat = spec.repeat;\n    this.children = this._initChildren(spec, this.repeat, repeatValues, config);\n  }\n\n  private _initChildren(spec: NormalizedRepeatSpec, repeat: Repeat, repeater: RepeaterValue, config: Config): Model[] {\n    const children: Model[] = [];\n    const row = repeat.row || [repeater ? repeater.row : null];\n    const column = repeat.column || [repeater ? repeater.column : null];\n\n    // cross product\n    for (const rowField of row) {\n      for (const columnField of column) {\n        const name = (rowField ? '_' + rowField : '') + (columnField ? '_' + columnField : '');\n\n        const childRepeat = {\n          row: rowField,\n          column: columnField\n        };\n\n        children.push(buildModel(spec.spec, this, this.getName('child' + name), undefined, childRepeat, config, false));\n      }\n    }\n\n    return children;\n  }\n\n  public parseLayoutSize() {\n    parseRepeatLayoutSize(this);\n  }\n\n  protected assembleDefaultLayout(): VgLayout {\n    return {\n      columns: this.repeat && this.repeat.column ? this.repeat.column.length : 1,\n      bounds: 'full',\n      align: 'all'\n    };\n  }\n}\n"]}},"error":null,"hash":"fd185f98673bc11bd25dc63d642d9e2f","cacheData":{"env":{}}}